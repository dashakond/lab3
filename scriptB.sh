#!/bin/bash

# Адреса сервера, до якого будемо робити HTTP запити
SERVER_URL="http://localhost:8080"  # Заміни на адресу твого контейнера, якщо потрібно

# Функція для виконання HTTP запиту
make_request() {
    while true; do
        # Генерація випадкової затримки від 5 до 10 секунд
        delay=$((RANDOM % 6 + 5))
        
        # Зробити HTTP запит
        echo "Зроблено запит до $SERVER_URL через $delay секунд..."
        curl -s $SERVER_URL > /dev/null
        
        # Затримка перед наступним запитом
        sleep $delay
    done
}

# Запускаємо кілька асинхронних запитів
for i in {1..5}; do
    make_request &  # Запускаємо функцію make_request асинхронно
done

# Чекаємо деякий час, щоб всі фонові процеси виконались
wait

